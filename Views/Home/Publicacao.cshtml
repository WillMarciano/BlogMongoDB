@model PublicacaoModel

@{
    ViewBag.Titulo = Model.Publicacao.Titulo;
}

@Html.ValidationSummary(true)

<form method="post">
    <div class="row">

        <div class="col-md-8">
            <section id="novaPublicacaoForm">
                @Html.AntiForgeryToken()
                <h4>@ViewBag.Titulo</h4>
                <hr />
                <p><b>Autor:</b> @Model.Publicacao.Autor</p>
                <p><b>Data Publicação:</b> @Model.Publicacao.DataCriacao</p>
                <p>
                    <b>Tags: </b>
                    @foreach (var tag in Model.Publicacao.Tags)
                    {
                        <a href="@Url.Action("Publicacoes", "Home", new { tag = tag })">@tag</a>
                    }
                </p>
                <p><b>Conteúdo: </b>@Model.Publicacao.Conteudo</p>
                @foreach (var comentario in Model.Publicacao.Comentarios)
                {
                    <h4>@comentario.Autor on @comentario.DataCriacao</h4>
                    <p>@comentario.Conteudo</p>
                }
                @if (User?.Identity?.IsAuthenticated ?? false)
                {
                    <h3>Novo Cometário</h3>
                    using (Html.BeginForm("NovoComentario", "Home"))
                    {
                        <input type="hidden" name="PublicacaoId" value="@Model.Publicacao.Id" />
                        <textarea name="Conteudo" class="rows="4" cols="50"> </textarea>
                        <p></p>
                        <p>
                            <button type="submit" class="btn btn-info">Enviar</button>
                        </p>

                    }
                }
                @*                <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                <button type="submit" class="btn btn-primary">Enviar</button>
                </div>
                </div>*@
            </section>
        </div>
    </div>
</form>